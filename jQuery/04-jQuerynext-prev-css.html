<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <div width="100">
        <ul>
            <li>
                <div>
22222222
                </div>
                <div>
                    11111
                </div>
            </li>
            <li></li>
            <li></li>
        </ul>
    </div>
    <div>
        <ul>
            <li></li>
            <li></li>
            <li></li>
        </ul>
    </div>
    <div class="div5">
11111111111111111111
    </div>
    <div class="div5">
11111111111111111111
    </div>
    <div></div>
    <p></p>
    <h2></h2>
    <div>2445425</div>
    <div>24524</div>
    <script src="./02jQuery.js"></script>
    <!-- <script src="./jquery.js"></script> -->
    <script>
        $(function(){
        // console.log($("div").attr("color","red"));测试attr 类似原声 get/setAttribute
        // console.log($('div'),$);
        //next
        // console.log(document.querySelectorAll('div')[0].nextElementSibling);
        // console.log(document.querySelectorAll('div')[1].previousSibling);
        // console.time('$')
        // console.log($('div').next('p'))
        // console.timeEnd('$')
        // console.log($("div"));
        // console.log($(function(){}),'fn')
            function _$s(elem){
                return document.querySelectorAll(elem);
            }
        //之后的所有兄弟
        function nextAll(source,target,until){
            // source=document.querySelectorAll(source);
            var result=[];
            // var cur=source['nextSibling'];
            source.forEach((val,index)=>{
                val=val['nextSibling'];
                // console.log(val,val.nodeType,result.indexOf(val))
               while(val && val.nodeType !== 9 &&(until === undefined || val.nodeType !== 1) ){
                       if(val&&val.nodeType===1&&result.every(value=>value!==val)){
                           result.push(val);
                        }
                val=val['nextSibling'];
            }
            })
           
            // console.log(result);
            return result;
            // console.log(source,parent.querySelector('.div5').nextElementSibling);
        }
        function next(cur, result, dir, elem ){
                // return jQuery.nth( elem, 2, "nextSibling" );
             result = 2 || 1;//2
		    // console.log(result)
		            var num = 0;//0
            //dir for(;cur是否满足条件;cur=cur[nextSibling])
                for ( ; cur; cur = cur["nextSibling"] ) {
                    // console.log(cur,cur.nodeType)
                    console.log(cur,'cur',result)
                    if ( cur.nodeType === 1 && ++num === result ) {
                        break;
                    }
                }
                return cur
            }
            // console.log(div)
            // console.log(nextAll(div));
            var div5=_$s('div');
            // console.log(div5[0])
            console.log(next(div5[0]))
        // nextAll('.div5');
        // $(".div5").insertAfter('li')
        // console.log($('.div5').nextAll('script'));
        // console.log($(".div5").before('li'))
        /*jQuery中
        dir: function( elem, dir, until ) {
		var matched = [],
			cur = elem[ dir ];

		while ( cur && cur.nodeType !== 9 && (until === undefined || cur.nodeType !== 1 || !jQuery( cur ).is( until )) ) {
			if ( cur.nodeType === 1 ) {
				matched.push( cur );
			}
			cur = cur[dir];
		}
		return matched;
	},
        */
       console.log($(".div5").nextAll(),'$(".div5").nextAll()');
    })
            // var arr=[1,2,3,4,5];
            // console.log()
            // var obj=[].slice.call(mybutton);
            // console.log(obj)
            // Object.keys(mybutton).forEach(element=>{
            //     return mybutton[element]=false;
            // })
            // console.log(mybutton)
    </script>
</body>
</html>